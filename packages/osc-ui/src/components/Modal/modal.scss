@import "../../styles/tools";
@import "../../styles/settings";

@layer components {
    $modal-max-height: 570px;
    $modal-overlay-opacity: 0.3;

    .c-modal {
        &__content {
            position: fixed;
            top: 50%;
            left: 50%;
            display: flex;
            flex-direction: column;
            width: 100%;
            max-height: $modal-max-height;
            padding: $space-m;
            background-color: var(--color-tertiary);
            border-radius: $rad-xs;
            box-shadow: $shadow-m;
            overflow-y: auto;

            @include z-index(modal);

            &[data-state="open"] {
                @include animate(modal-scale-in, $timing-s, $ease-out-sine);
            }

            &[data-state="closed"] {
                @include animate(modal-scale-out, $timing-s, $ease-out-sine);
            }

            &--sm {
                max-width: #{calc($container-3xs / 2)}px;
            }

            &--md {
                max-width: 768px;
            }

            &--lg {
                max-width: #{$container-2xs}px;
            }

            &--full {
                max-width: 100%;
            }
        }

        &__ttl {
            margin-block-start: $space-2xs;
        }

        &__close {
            align-self: end;
            color: var(--color-neutral-500);
            transition: color $timing-s $ease-in-out;
            cursor: pointer;

            &:hover,
            &:active {
                color: var(--color-neutral-600);
            }
        }

        &__overlay {
            position: fixed;
            background-color: var(--color-secondary);
            inset: 0;

            @include z-index(modal);

            &[data-state="open"] {
                @include animate(overlay-fade-in, $timing-s, $ease-out-sine);
            }

            &[data-state="closed"] {
                @include animate(overlay-fade-out, $timing-s, $ease-out-sine);
            }
        }
    }
}
